<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CRUD Form</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    </head>
    <body>
        <div class="text-center w-96 m-4 float-left">
            <h1 class="font-bold text-red-500 font-serif text-2xl">Registration Form</h1>
            <hr class="">
            <form class="text-left font-serif m-4 bg-slate-300 border-slate-300 border-2 border-solid w-80 p-4">
                <label>
                    Name :</label>
                <input id="fnid" type="text" placeholder="Piyu Gade" required><br><br>
                <label>Email :</label>
                <input id="mailid" type="email" placeholder="abc@gmail.com" required><br><br>
                <label>Contact :</label>
                <input id="mobid" type="tel" placeholder="+91" required><br><br>
                <label>Gender :</label>
                <select id="gender_id" required>
                    <option>Select</option>
                    <option value="Male" id="mid">Male</option>
                    <option value="Female" id="fid">Female</option>
                    <option value="Other" id="oid">Other</option>
                </select><br><br>

                <!-- <input id="gid" type="radio" name="gender" value="Male" checked>Male
                                                                                                    <input id="gid" type="radio" name="gender" value="Female">Female<br><br> -->
                <!-- <button type="button" class="font-bold border-black border-2 bg-gray-300 rounded p-1" onclick="btnnew()">New</button> -->
                    <button type="reset" class="font-serif border-black border-2 bg-green-600 text-white rounded p-1"> New</button>
                <button type="button" onclick="list()" class="font-serif border-black border-2 bg-green-600 text-white rounded p-1">Submit</button>
                <!-- <button type="button" class="font-bold border-black border-2 bg-gray-300 rounded p-1" onclick="update()">Update</button> -->
            </form>
        </div><br>
        <div id="mydiv" class="float-right m-10">
            <table id="mytab" class="font-serif border-2 border-black m-4">
                <tr>
                    <th class="border border-2 border-black p-2">SrNo.</th>
                    <th class="border border-2 border-black p-2">First Name</th>
                    <th class="border border-2 border-black p-2">Email-Id</th>
                    <th class="border border-2 border-black p-2">Mobile No.</th>
                    <th class="border border-2 border-black p-2">Gender</th>
                    <th class="border border-2 border-black p-2">Edit</th>
                    <th class="border border-2 border-black p-2">Delete</th>
                </tr>
            </table>

        </div>
        <!-- <a><i id="edit" class='fas fa-edit'></i></a>
                                                            <a><i id="delete" class="fa fa-trash" aria-hidden="true" ></i></a> -->
        <!-- <p id="myp"></p> -->
        <script>
            var count = 0;
            function add_data(ipsr, ipfn, ipmail, ipmob, ipGender) {
                        this.Srno = ipsr;
                        this.Name = ipfn;
                        this.Mail = ipmail;
                        this.Mob = ipmob;
                        this.Gender = ipGender;

                    }
                    var new_add_data = [new add_data("1", "Priya Gade", "pg@gmail.com", "7020324332", "Female")];
                    console.log(new_add_data)
                    
            function list() 
            {
                count++;
                // var tab = document.getElementById("mydiv");
                // tab.setAttribute("class","visible")

                /* let table = document.createElement("table");
                let row1 = document.createElement("tr");

                let mydiv = document.getElementById("mydiv");
                mydiv.append(table);
                // ------IIFE----
                let table_heading = (function () {
                    let details = [
                        "SrNo",
                        "First Name",
                        "Email-Id",
                        "Mobile No.",
                        "Gender",
                        "Edit/Delete"
                    ]
                    // ----map----
                    let heading = details.map(ele => {
                        return document.createTextNode(ele);
                    })
                    // console.log(heading);
                    for (var i = 0; i <= 5; i++) {
                        var col = document.createElement("th");
                        // console.log(co);
                        col.append(heading[i]);
                        row1.append(col);
                        table.append(row1);
                    }
                    console.log(table);
                })();

                // let srno =
                // let fn =document.createTextNode("First Name");
                // let mail = document.createTextNode("Email-Id");
                // let Contact = document.createTextNode("Mobile No.");

                // var count = 1; */

                let table = document.getElementById("mytab");
                let row2 = document.createElement("tr");
                row2.setAttribute("class", "font-serif")

                var fn = document.getElementById("fnid").value;
                var mail = document.getElementById("mailid").value;
                // mail.setAttribute("class","text-sky-300");l
                var mob = document.getElementById("mobid").value;
                var gender = document.getElementById("gender_id").value;
                // let edit = document.getElementById("edit");
                // edit.setAttribute("class","visible");
                // let del = document.getElementById("delete");
                // del.setAttribute("class","visible");

                // var btn = document.createElement("button");
                // var tn = document.createTextNode("Edit");
                
                // // var iconedit = document.createElement("i");
                // // iconedit.setAttribute("class", "fas fa-edit hover:bg-sky-300");
                // btn.append(tn);
                                
                
                    // edit.append(edi);
                    // console.log(edit);
                    // var delte = document.createElement("i");
                    // // var del = document.createElement("i");
                    // delte.setAttribute("class", "fa fa-trash hover:bg-sky-300");
                    // delte.setAttribute("aria-hidden", "true");
                    // delte.append(del);
                    // console.log(delte);

                    var new_data = [];
                    new_data.push(count);
                    new_data.push(fn);
                    new_data.push(mail);
                    new_data.push(mob);
                    new_data.push(gender);
                    new_data.push(ebtn);
                    new_data.push(dbtn);
                    // console.log(new_data);

                    new_add_data.push(new_data);
                    console.log(new_add_data);
                    

                    var enterd_data = new_data.map(ele => ele);
                    // console.log(enterd_data);

                    for (var j = 0; j <= 6; j++) {
                        var col2 = document.createElement("td");
                        col2.append(enterd_data[j]);
                        row2.append(col2);
                        table.append(row2);
                        col2.setAttribute("class", "border border-black text-center p-1");
                        // console.log(table);
                    }
                    console.log(table);
                }

                var ebtn = document.createElement("button");
                ebtn.setAttribute("class","font-serif border-white border-2 bg-green-600 text-white rounded p-1")
                var tne = document.createTextNode("Edit");

                var dbtn = document.createElement("button");
                dbtn.setAttribute("class","font-serif border-white border-2 bg-red-600 text-white rounded p-1")

                var tnd = document.createTextNode("Delete");
                
                ebtn.append(tne);
                dbtn.append(tnd);

                ebtn.onclick = function () {
                    for (var i = 0; i < new_add_data.length; i++) {
                        if (new_add_data[i].Name == fn) {
                            new_add_data[i].Mail = mail;
                            new_add_data[i].Mob = mob;
                            new_add_data[i].Gender = gender;
                            break;
                        }
                        list();
                    }
                }

                </script>
            </body>
        </body>
    </body>
</html>
